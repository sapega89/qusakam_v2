# Атмосферные эффекты для медитации возле обладунков

## Описание

`MeditationAtmosphere` - это скрипт для создания атмосферных визуальных эффектов в сцене медитации возле священных обладунков на краю каньона.

## Визуальные эффекты

### 1. Частицы духов/энергии
- Легкие, плавные частицы, поднимающиеся вверх
- Светло-голубой/белый цвет
- Медленное движение для спокойной атмосферы
- Антигравитация (легкое движение вверх)

### 2. Световое свечение
- Мягкое свечение вокруг места медитации
- Пульсация для создания живой атмосферы
- Светло-голубой цвет

## Использование

### 1. Добавление в сцену

1. Открыть крайнюю сцену каньона (где находятся обладунки) в Godot Editor
2. Добавить `Node2D` → назвать `MeditationAtmosphere`
3. Присвоить скрипт: `SampleProject/Scripts/Gameplay/MeditationAtmosphere.gd`
4. Разместить рядом с `RelicArmor` (обладунками)

### 2. Настройка параметров

**enabled** (bool):
- Включает/выключает атмосферные эффекты
- По умолчанию: `true`

**particle_intensity** (float):
- Интенсивность частиц (0.0 - 2.0)
- По умолчанию: `1.0`
- Больше значение = больше частиц

### 3. Размещение

Рекомендуется размещать:
- Рядом с `RelicArmor` (обладунками)
- На краю каньона, где происходит медитация
- На позиции, где будет сидеть персонаж

## Пример структуры сцены

```
Canyon_End (Node2D)
├── RoomInstance (room_id: "canyon_end")
├── SavePoint_Relic
├── RelicArmor (обладунки)
│   └── Position: (4200, 300)
├── MeditationAtmosphere (атмосферные эффекты)
│   └── Position: (4200, 300) - рядом с обладунками
└── CanyonExitTrigger (триггер выхода)
```

## Состояние Canyon.gd

Когда игрок возвращается из деревни:
- Состояние: `RELIC_PICKUP`
- Диалог: `Canyon_MeditationAtRelic.dqd`
- Атмосферные эффекты активны

## Настройка эффектов

### Изменение цвета частиц

В `MeditationAtmosphere.gd`:
```gdscript
particles.color = Color(0.85, 0.9, 1.0, 0.6)  # Светло-голубой
# Можно изменить на другие цвета для другой атмосферы
```

### Изменение интенсивности свечения

```gdscript
light.energy = 0.3  # Мягкое свечение (0.1 - 1.0)
```

### Изменение скорости пульсации

```gdscript
tween.tween_property(light, "energy", 0.5, 2.0)  # 2.0 секунды
```

## Проверка

После настройки проверить:
1. ✅ Частицы появляются и плавно поднимаются вверх
2. ✅ Свет пульсирует плавно
3. ✅ Эффекты создают атмосферу священного места
4. ✅ Эффекты не мешают игровому процессу
